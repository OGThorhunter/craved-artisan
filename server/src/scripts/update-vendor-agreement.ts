import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

const newVendorAgreementContent = `# üßæ Craved Artisan ‚Äî Vendor Service Agreement
**Effective Date:** October 2025  
**Last Updated:** October 2025  

This **Vendor Service Agreement** ("**Agreement**") governs your participation as a vendor ("**Vendor**," "**you**," or "**your**") on the **Craved Artisan** marketplace platform, owned and operated by Craved Artisan, LLC ("**Craved Artisan**," "**we**," "**us**," or "**our**").  

By creating a vendor account, listing products, or engaging in any commercial activity on the Craved Artisan Platform, you agree to this Agreement, along with our Terms of Service and Privacy Policy.

---

## 1. üéØ Purpose of Agreement
Craved Artisan operates as a **digital marketplace** that connects independent creators, bakers, farmers, artisans, and small producers with customers seeking locally made, handcrafted, or homegrown goods.  

This Agreement establishes the terms under which Vendors may sell goods or services through the Platform while ensuring Craved Artisan remains legally protected from liabilities arising from Vendor operations.

---

## 2. ‚öñÔ∏è Independent Vendor Status
- You are an **independent contractor**, not an employee, agent, or representative of Craved Artisan.  
- You are solely responsible for your business operations, taxes, permits, insurance, and compliance with all applicable federal, state, and local laws.  
- Craved Artisan does not guarantee sales, exposure, or business success.

**Plain language version:**  
> You run your own business ‚Äî we provide the digital tools and visibility, but we're not your employer or financial partner.

---

## 3. üí≥ Payments & Stripe Connect
- All transactions and payouts are managed securely through **Stripe Connect**.  
- Craved Artisan **does not store or process** customer payment information.  
- You must complete Stripe onboarding to sell or receive payments.  
- Craved Artisan may collect a **service or transaction fee** from each sale to cover platform maintenance and services.  
- Payouts are processed by Stripe directly to your linked account, subject to Stripe's terms.  

**You agree that Craved Artisan is not responsible for:**  
- Delays in payment caused by Stripe  
- Payment holds, account verification, or chargeback disputes  
- Taxes owed on your earnings  

---

## 4. üßÅ Vendor Responsibilities
As a Vendor, you agree to:

1. **Maintain Product Integrity**  
   - Sell only items you have produced, created, or lawfully obtained.  
   - Ensure all products are safe, properly labeled, and compliant with relevant laws (e.g., cottage food laws, FDA labeling requirements).  
   - Provide accurate descriptions, images, and pricing.

2. **Fulfill Orders Promptly**  
   - Complete and deliver all orders in a timely and professional manner.  
   - Communicate transparently with customers about availability, delays, or substitutions.

3. **Comply with Local Regulations**  
   - Obtain and maintain all required licenses or permits (e.g., cottage food permits, business licenses).  
   - Comply with all applicable health, safety, and food handling regulations.

4. **Customer Service**  
   - Treat all customers respectfully.  
   - Respond promptly to inquiries, complaints, and refund requests.

5. **Taxes & Reporting**  
   - Accurately report your earnings to tax authorities.  
   - Craved Artisan may provide sales summaries for convenience but is **not a tax advisor**.

---

## 5. üö´ Prohibited Activities
Vendors may **not**:

- List illegal, dangerous, counterfeit, or infringing products.  
- Misrepresent product origin, ingredients, or certifications.  
- Engage in deceptive, abusive, or off-platform sales intended to bypass Craved fees.  
- Use Craved Artisan data for unsolicited marketing or to contact users outside of the platform.  
- Post defamatory, obscene, or harassing content.  
- Sell or resell products that violate another user's intellectual property.  

Violation of these policies may result in **immediate suspension or termination** of your vendor account.

---

## 6. üßæ Pricing, Refunds & Returns
- Vendors set their own prices, shipping fees, and refund policies.  
- All refund or exchange requests are handled **directly between vendor and customer**.  
- Craved Artisan may, at its discretion, mediate disputes but is **not obligated** to do so.  
- If repeated disputes or complaints arise, Craved Artisan may suspend your listings or account.

---

## 7. üß† AI Features & Automation Disclaimer
Craved Artisan provides AI-assisted tools to help vendors with product listings, analytics, and labeling.  

You acknowledge that:
- AI-generated content is **for convenience only** and may contain inaccuracies.  
- Vendors are fully responsible for verifying the accuracy, legality, and compliance of all listings, labels, and communications.  
- Craved Artisan is **not liable** for damages, losses, or claims arising from AI outputs.

---

## 8. üè∑Ô∏è Labeling & Food Safety
For food vendors, you must:
- Clearly display all required ingredient and allergen information.  
- Follow any applicable food safety and packaging laws.  
- Use Craved Artisan's label generator responsibly and verify accuracy before printing.  
- Understand that Craved Artisan's labeling tool is an **aid**, not a compliance guarantee.

**You agree that Craved Artisan is not responsible** for any illness, injury, or harm caused by your products.

---

## 9. üì¶ Product Delivery, Pickup, & Drop Points
- Vendors may use drop-off or pickup locations ("Marketplace Partners") for distribution.  
- Vendors are responsible for ensuring the accuracy, safety, and readiness of all orders before drop-off.  
- Craved Artisan is **not responsible** for loss, spoilage, or damage to goods at third-party locations.  
- Vendors must adhere to designated pickup times and notify customers promptly of any changes.

---

## 10. üí• Limitation of Liability
To the fullest extent permitted by law:
- Craved Artisan shall **not be liable** for any indirect, incidental, or consequential damages, lost profits, or loss of data.  
- Craved Artisan's total liability in any 12-month period shall not exceed the **total fees paid to Craved Artisan** during that same period.  

You agree to **indemnify and hold harmless** Craved Artisan, its affiliates, and employees from any claims, losses, or damages resulting from:
- Your listings, sales, or products  
- Your breach of this Agreement or the TOS  
- Customer or third-party disputes  

---

## 11. üîí Data, Privacy, and Analytics
- Craved Artisan may collect and use anonymized sales and traffic data to improve marketplace performance.  
- Vendors grant Craved Artisan a **limited, non-exclusive license** to use logos, product images, and descriptions for marketing and promotional purposes.  
- Personal data is handled according to the Craved Artisan Privacy Policy.

---

## 12. üì£ Marketing & Promotions
- Craved Artisan may feature your products in newsletters, advertisements, or promotional campaigns.  
- Participation in paid or premium promotions is optional.  
- Vendors may not represent themselves as official Craved Artisan employees or partners without written approval.

---

## 13. ‚öôÔ∏è Termination & Suspension
Craved Artisan reserves the right to:
- Suspend or terminate a Vendor account for violations of this Agreement or the TOS.  
- Remove listings that violate marketplace standards.  
- Withhold pending payouts if fraud, chargebacks, or policy violations are detected.  

Vendors may terminate their account at any time via the platform's Settings panel.  
Upon termination:
- Outstanding orders must still be fulfilled.  
- Craved Artisan retains the right to archive your transaction records for legal and accounting purposes.

---

## 14. üèõÔ∏è Governing Law
This Agreement is governed by the laws of the **State of Georgia, USA**.  
Any disputes shall be resolved through **binding arbitration** in Henry County, Georgia, unless otherwise required by law.

---

## 15. üß± Entire Agreement
This Agreement, together with the Craved Artisan **Terms of Service** and **Privacy Policy**, constitutes the entire understanding between the parties and supersedes all prior communications.

---

## 16. ‚úÖ Acknowledgement
By checking "I Agree" during the signup process, you confirm that:
- You have read and understood this Vendor Service Agreement.  
- You accept full responsibility for your listings, sales, and business conduct.  
- You release Craved Artisan from all liability arising from your business operations.  

**Welcome to the Craved Artisan community ‚Äî where independent makers thrive with integrity.**

---

**Version:** 1.0.0  
**Last Updated:** October 2025`;

async function updateVendorAgreement() {
  console.log('üîÑ Updating Vendor Service Agreement...');

  try {
    const result = await prisma.legalDocument.updateMany({
      where: {
        type: 'VENDOR_AGREEMENT',
        version: '1.0'
      },
      data: {
        title: 'Vendor Service Agreement',
        content: newVendorAgreementContent
      }
    });

    if (result.count > 0) {
      console.log(`‚úÖ Updated ${result.count} Vendor Service Agreement document(s)`);
    } else {
      console.log('‚ö†Ô∏è  No Vendor Service Agreement v1.0 found to update');
    }
  } catch (error) {
    console.error('‚ùå Error updating Vendor Service Agreement:', error);
    throw error;
  } finally {
    await prisma.$disconnect();
  }
}

updateVendorAgreement();

